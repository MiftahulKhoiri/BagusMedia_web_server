{% extends "base.html" %}

{% block title %}Edit Profil - BAGUS MEDIA SERVER{% endblock %}

{% block css %}
<link rel="stylesheet" href="/static/css/edit-profile.css">
{% endblock %}

{% block content %}

<header class="header">
    <h1 class="edit-title">Edit Profil</h1>

    <div class="header-btn-group">
        <a href="{{ url_for('profile') }}" class="btn-back">⬅ Kembali</a>
        <a href="{{ url_for('logout') }}" class="btn-logout">Logout</a>
    </div>
</header>

<!-- ===============================
     COVER FOTO
=============================== -->
<div class="cover-area">
    <img id="cover-photo"
         src="{{ url_for('static', filename='profile/' ~ (profile.cover if profile.cover else 'cover.png')) }}"
         alt="Foto Cover">

    <input id="cover-input" type="file" accept="image/*" style="display:none;">
</div>

<!-- ===============================
     FOTO PROFIL OVERLAP
=============================== -->
<div class="profile-photo-area">
    <img id="profile-photo"
         src="{{ url_for('static', filename='profile/' ~ (profile.foto if profile.foto else 'profile.png')) }}"
         alt="Foto Profil">

    <input id="photo-input" type="file" accept="image/*" style="display:none;">
</div>

<!-- ===============================
     FORM EDIT PROFIL
=============================== -->
<main class="edit-box">

    <label>Nama Lengkap:</label>
    <input id="nama" type="text" value="{{ profile.nama }}">

    <label>Email:</label>
    <input id="email" type="email" value="{{ profile.email }}">

    <label>Jenis Kelamin:</label>
    <select id="jk">
        <option value="">- Pilih -</option>
        <option value="Laki-laki" {% if profile.jk == "Laki-laki" %}selected{% endif %}>Laki-laki</option>
        <option value="Perempuan" {% if profile.jk == "Perempuan" %}selected{% endif %}>Perempuan</option>
    </select>

    <label>Umur:</label>
    <input id="umur" type="number" value="{{ profile.umur }}">

    <label>Bio / Keterangan:</label>
    <textarea id="bio">{{ profile.bio }}</textarea>

    <button id="save-btn" class="save-btn">Simpan Perubahan</button>

    <hr class="divider">

    <!-- ===============================
         GANTI PASSWORD
    =============================== -->
    <h2 class="pw-title">Ganti Password</h2>

    <label>Password Lama:</label>
    <input id="old_password" type="password" placeholder="••••••••">

    <label>Password Baru:</label>
    <input id="new_password" type="password" placeholder="••••••••">

    <button id="pw-btn" class="pw-btn">Ubah Password</button>

</main>

<footer>
    <p>© {{ current_year }} BAGUS MEDIA SERVER</p>
</footer>

{% endblock %}

{% block script %}
<script src="/static/Js/edit-profile.js" defer></script>
{% endblock %}