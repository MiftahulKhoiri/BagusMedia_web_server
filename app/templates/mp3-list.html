<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album Musik - BAGUS MEDIA SERVER</title>

    <!-- CSS tampilan -->
    <link rel="stylesheet" href="/static/css/neon.css">
    <link rel="stylesheet" href="/static/css/mp3-list.css">
</head>
<body>

<canvas id="neonCanvas"></canvas>

<header class="header">

    <!-- 
        PERBAIKAN:
        /home ‚Üí harus pakai url_for('main.home')
    -->
    <a href="{{ url_for('main.home') }}" class="btn-home">üè† Home</a>

    <h1 class="title"> Musik </h1>

    <!-- 
        PERBAIKAN:
        /mp3 ‚Üí harus pakai url_for('media.mp3_player')
        karena route mp3 player berada di Blueprint "media".
    -->
    <a href="{{ url_for('media.mp3_player') }}" class="btn-open">üéß Pemutar</a>

</header>

<main class="album-container">

    {% if mp3_files|length == 0 %}
        <p class="empty">Belum ada lagu yang diupload.</p>
    {% else %}
        <div class="mp3-list">

            {% for file in mp3_files %}

            <!-- 
                PERBAIKAN:
                href="/mp3?play=..." ‚Üí harus url_for('media.mp3_player', play=file)
                supaya tidak error dan tetap mengikuti Blueprint.
            -->
            <a class="mp3-item"
               href="{{ url_for('media.mp3_player', play=file) }}">
                <img src="/static/icon/Mp3.png" class="icon">
                <span>{{ file }}</span>
            </a>

            {% endfor %}

        </div>
    {% endif %}

</main>

<footer class="footer">
    ¬© BAGUS MEDIA SERVER
</footer>

<script src="/static/Js/neon.js" defer></script>

</body>
</html>